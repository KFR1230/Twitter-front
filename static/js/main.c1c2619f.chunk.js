(this["webpackJsonptwitter-concept"]=this["webpackJsonptwitter-concept"]||[]).push([[0],{206:function(e,t,n){},207:function(e,t,n){},233:function(e,t){},235:function(e,t){},246:function(e,t){},248:function(e,t){},276:function(e,t){},278:function(e,t){},279:function(e,t){},284:function(e,t){},286:function(e,t){},292:function(e,t){},294:function(e,t){},313:function(e,t){},325:function(e,t){},328:function(e,t){},382:function(e,t,n){},384:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(198),s=n.n(r),i=(n(206),n(7)),o=(n(207),n(0)),u=function(e){var t=e.children;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("div",{className:"wrapper",children:t})})})},l=function(){return Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("h1",{children:"NestedUserPage l2 Page"})})},j=n.p+"static/media/logo.89093620.svg",d=function(e){var t=e.children;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("main",{className:"container_one col-12",children:t})})},b=n(2),p=n(3),m=n(20),O=n(9),f=n(4),h=n(5),x=function(e){var t,n,c,r,s,i,u,l,j=e.name,d=e.label,b=e.type,p=e.placeholder,m=e.errors,O=e.register,x=e.maxLength,v=e.limitLabel,g=void 0===v?null:v,w=e.validationSchema,k=e.defaultValue,N=e.watch,I=Object(a.useState)(""),y=Object(h.a)(I,2),C=y[0],T=y[1];return Object(o.jsxs)(o.Fragment,{children:[" ",Object(o.jsxs)("div",{className:"input_group",children:[Object(o.jsx)("label",{children:d}),Object(o.jsx)("input",Object(f.a)(Object(f.a)({type:b,name:j,defaultValue:k,placeholder:p},O(j,w)),{},{maxLength:x||null,className:m[j]?"error":"",onChange:function(e){T(e.target.value.length)}}))]}),Object(o.jsxs)("div",{className:"error-message-group",children:[m&&"required"===(null===(t=m[j])||void 0===t?void 0:t.type)&&Object(o.jsx)("span",{className:"error",children:null===(n=m[j])||void 0===n?void 0:n.message}),m&&"minLength"===(null===(c=m[j])||void 0===c?void 0:c.type)&&Object(o.jsx)("span",{className:"error",children:null===(r=m[j])||void 0===r?void 0:r.message}),m&&"maxLength"===(null===(s=m[j])||void 0===s?void 0:s.type)&&Object(o.jsx)("span",{className:"error",children:null===(i=m[j])||void 0===i?void 0:i.message}),m&&"pattern"===(null===(u=m[j])||void 0===u?void 0:u.type)&&Object(o.jsx)("span",{className:"error",children:null===(l=m[j])||void 0===l?void 0:l.message}),C>x&&Object(o.jsx)("span",{className:"error",children:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650"}),"true"===g&&Object(o.jsxs)("span",{className:"limit-num",children:[N(j)?N(j).length:"0","/50"]})]})]})},v=n(27),g=n.n(v),w="https://calm-eyrie-50498.herokuapp.com/api",k=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,g.a.post("".concat(w,"/signin"),{account:n,password:a});case 4:if(c=e.sent,r=c.data,!r.data.token){e.next=9;break}return e.abrupt("return",Object(f.a)({success:!0},r));case 9:return e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(1),s=e.t0.response.data,console.error("[Login Failed]:",e.t0),e.abrupt("return",{success:!1,errorMessage:s});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,s,i,o,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.email,c=t.password,r=t.checkPassword,s=t.name,e.prev=1,e.next=4,g.a.post("".concat(w,"/users"),{account:n,email:a,password:c,checkPassword:r,name:s});case 4:return i=e.sent,o=i.data,e.abrupt("return",Object(f.a)({success:!0},o));case 9:return e.prev=9,e.t0=e.catch(1),u=e.t0.response.data,console.error('["Register failed"]',e.t0),e.abrupt("return",{success:!1,errorMessage:u});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.password,e.prev=1,e.next=4,g.a.post("".concat(w,"/admin/users"),{account:n,password:a});case 4:if(c=e.sent,r=c.data,!r.data.token){e.next=9;break}return e.abrupt("return",Object(f.a)({success:!0},r));case 9:return e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(1),s=e.t0.response.data,console.error("[admin login Failed]:",e.t0),e.abrupt("return",{success:!1,errorMessage:s});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),y=n(82),C="https://calm-eyrie-50498.herokuapp.com/api",T=g.a.create({baseUrl:C});T.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var S=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/tweets"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Tweets failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/top"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[get topUser failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/tweets/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Tweet Failed]: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t,"/tweets"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get UserTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t,"/likes"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get getUserLikedTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t,"/replied_tweets"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get GetUserRepliedTweets Failed!!]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.UserId,a=t.description,e.next=4,T.post("".concat(C,"/tweets"),{UserId:n,description:a});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(0),console.error("[CREATE a Tweet failed:]:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/tweets/").concat(t,"/replies"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.UserId,a=t.TweetId,c=t.comment,e.next=4,T.post("".concat(C,"/tweets/").concat(a,"/replies"),{UserId:n,comment:c});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.error("[Reply Tweet failed:]:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("".concat(C,"/followships"),{id:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Following failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("".concat(C,"/followships/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Cancel Follow failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("".concat(C,"/tweets/").concat(t,"/like"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Like Tweet failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("".concat(C,"/tweets/").concat(t,"/unlike"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Unlike Tweet failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Get USer Info failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,s,i,o,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.memberId,a=t.name,c=t.account,r=t.email,s=t.password,i=t.checkPassword,e.next=4,T.patch("".concat(C,"/users/").concat(n),{name:a,account:c,email:r,password:s,checkPassword:i});case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(0),u=e.t0.response.data,console.error("[Edit Setting Info failed:]:",e.t0),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t,"/followers"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("".concat(C,"/users/").concat(t,"/followings"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z={isAuthentic:!1,currentMember:null,login:null,logout:null,signUp:null,adminLogin:null},H=Object(a.createContext)(Z),K=function(){return Object(a.useContext)(H)},Q=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(h.a)(n,2),r=c[0],s=c[1],u=Object(a.useState)(null),l=Object(h.a)(u,2),j=l[0],d=l[1],m=Object(i.m)().pathname,O=Object(a.useState)(!1),f=Object(h.a)(O,2),x=f[0],v=f[1],g=Object(a.useState)(!1),w=Object(h.a)(g,2),C=w[0],T=w[1],S=Object(a.useState)(!1),U=Object(h.a)(S,2),L=U[0],_=U[1],F=Object(a.useState)(null),A=Object(h.a)(F,2),M=A[0],P=A[1],E=Object(a.useState)({}),q=Object(h.a)(E,2),B=q[0],G=q[1],V=Object(a.useState)(!0),z=Object(h.a)(V,2),J=z[0],Z=z[1],K=Object(a.useState)(!0),Q=Object(h.a)(K,2),W=Q[0],X=Q[1],Y=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,a=t.isLike,t.UserId,c=t.tabIndex,!m.includes("other")||2!==c){e.next=3;break}return e.abrupt("return");case 3:if(a){e.next=8;break}return e.next=6,R(n);case 6:e.next=10;break;case 8:return e.next=10,D(n);case 10:Z(!J);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("authToken")){e.next=5;break}return s(!1),d(null),e.abrupt("return");case 5:if(!t){e.next=11;break}return s(!0),n=y.decode(t),d(n),G(n),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[m]),Object(o.jsx)(H.Provider,{value:{isAuthentic:r,currentMember:j&&{id:j.id,name:j.name,avatar:j.avatar},setModalReplyOpen:v,modalReplyOpen:x,setModalTweetOpen:_,modalTweetOpen:L,setModalProOpen:T,modalProOpen:C,setTweetId:P,tweetId:M,member:B,like:J,handleChangeLikeMode:Y,setUserIsFollowing:X,userIsFollowing:W,signUp:function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({account:t.account,password:t.password,email:t.email,checkPassword:t.checkPassword,name:t.name});case 2:if(n=e.sent,a=n.success,c=n.errorMessage,!a){e.next=9;break}return e.abrupt("return",{success:a});case 9:return e.abrupt("return",{success:a,errorMessage:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,i,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({account:t.account,password:t.password});case 2:if(n=e.sent,a=n.success,c=n.data,r=n.errorMessage,!a){e.next=13;break}return i=c.token,(o=y.decode(i))?(s(!0),localStorage.setItem("authToken",i),d(o),G(o)):s(!1),e.abrupt("return",{success:a});case 13:return e.abrupt("return",{success:a,errorMessage:r});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(p.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("authToken"),s(!1),d(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),adminLogin:function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r,i,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({account:t.account,password:t.password});case 2:if(n=e.sent,a=n.success,c=n.data,r=n.errorMessage,!a){e.next=13;break}return i=c.token,(o=y.decode(i))?(s(!0),localStorage.setItem("authToken",i),d(o),G(o)):s(!1),e.abrupt("return",{success:a});case 13:return e.abrupt("return",{success:a,errorMessage:r});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},children:t})},W=n(19),X=n.n(W),Y=(n(76),n.p+"static/media/alert-success-2.c7bb216b.svg"),$=n.p+"static/media/alert-warning-2.c524ac36.svg",ee=function(){var e=Object(m.a)(),t=e.register,n=e.handleSubmit,c=e.reset,r=e.formState.errors,s=e.watch,u=K(),l=u.login,j=u.isAuthentic,d=Object(i.o)(),f=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat(Y,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),h=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat($,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",height:"96px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),v=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.username.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==t.password.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,l({account:t.username,password:t.password});case 6:if(n=e.sent,a=n.success,r=n.errorMessage,!a){e.next=15;break}return f.fire({title:"\u767b\u5165\u6210\u529f!"}),c(),e.abrupt("return");case 15:h.fire({title:"".concat(r.message)});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j&&d("/main")}),[d,j]),Object(o.jsx)("div",{className:"formLayout login-form",children:Object(o.jsxs)("form",{onSubmit:n(v),children:[Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"username",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",errors:r,register:t,validationSchema:{required:"\u8acb\u8f38\u5165\u5e33\u865f",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"},maxLength:{value:50,message:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}},watch:s})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:r,register:t,validationSchema:{required:"\u8acb\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:s})}),Object(o.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(o.jsxs)("div",{className:"button-group-row login-button-group",children:[Object(o.jsx)(O.a,{to:"/register",className:"button-link",children:"\u8a3b\u518a"}),Object(o.jsx)("span",{children:"\u30fb"}),Object(o.jsx)(O.a,{to:"/login/admin",className:"button-link",children:"\u5f8c\u53f0\u767b\u5165"})]})]})})},te=function(){var e=K().isAuthentic,t=Object(i.o)();return Object(a.useEffect)((function(){e&&t("/main")}),[t,e]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(d,{children:Object(o.jsxs)("div",{className:"login-container col-4 flex_col_cc",children:[Object(o.jsx)("div",{className:"page-logo",children:Object(o.jsx)("img",{src:j,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(o.jsx)("h3",{className:"page-title",children:"\u767b\u5165 Alphitter"}),Object(o.jsx)(ee,{})]})})})},ne=function(e){var t=e.tabIndex,n=e.setTabIndex;return Object(o.jsxs)("div",{className:"tab-group",children:[Object(o.jsx)("div",{className:["tab","0"===t?"active":""].join(" "),onClick:function(){return n("0")},children:"\u63a8\u6587"}),Object(o.jsx)("div",{className:["tab","1"===t?"active":""].join(" "),onClick:function(){return n("1")},children:"\u56de\u8986"}),Object(o.jsx)("div",{className:["tab","2"===t?"active":""].join(" "),onClick:function(){return n("2")},children:"\u559c\u6b61\u7684\u5167\u5bb9"})]})},ae=function(e){var t=e.tabIndex,n=e.setTabIndex;e.pathName;return Object(o.jsxs)("div",{className:"tab-group",children:[Object(o.jsx)("div",{className:["tab","0"===t?"active":""].join(" "),tabIndex:"0",onClick:function(){return n("0")},children:"\u8ffd\u8e64\u8005"}),Object(o.jsx)("div",{className:["tab","1"===t?"active":""].join(" "),tabIndex:"1",onClick:function(){return n("1")},children:"\u6b63\u5728\u8ddf\u96a8"})]})},ce=(n(382),function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"storybook-layout",children:Object(o.jsxs)("div",{className:"storybook-container",children:[Object(o.jsx)("h2",{children:"Storybooks"}),Object(o.jsx)("h4",{className:"page-sec-title",children:"=== Buttons-\u5143\u4ef6\u672c\u8eab\u76ee\u524d\u6c92\u6709\u88fd\u4f5c\u4e0a\u4e0bmargin\uff0c\u662f\u672c\u8868\u986f\u793a\u7528 ==="}),Object(o.jsxs)("div",{className:"flex_col_cc comp-container",children:[Object(o.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(o.jsx)("button",{className:"button-sm button-m active",type:"submit",children:"\u63a8\u6587"}),Object(o.jsx)("button",{className:"button-bg button-m active",type:"submit",children:"\u5132\u5b58"}),Object(o.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u6b63\u5728\u8ffd\u8e64"}),Object(o.jsx)("button",{className:"button-md button-m",type:"submit",children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"}),Object(o.jsx)(O.a,{className:"button-link",type:"submit",children:"\u53d6\u6d88"})]}),Object(o.jsx)("h4",{className:"page-sec-title",children:"=== tabs -\u5143\u4ef6\u672c\u8eab\u7d81\u5b9a\u5207\u63db\u5167\u5bb9\uff0c\u9019\u9801\u7684tab \u9ede\u4e86\u6703\u58de\u4e0d\u8981\u7ba1\u4ed6lol ==="}),Object(o.jsx)(ne,{}),Object(o.jsx)(ae,{})]})})})}),re=function(){var e=Object(m.a)(),t=e.register,n=e.handleSubmit,c=e.reset,r=e.formState.errors,s=e.watch,u=K(),l=u.adminLogin,j=u.isAuthentic,d=Object(i.o)(),f=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat(Y,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),h=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat($,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",height:"96px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),v=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.username.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==t.password.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,l({account:t.username,password:t.password});case 6:if(n=e.sent,a=n.success,r=n.errorMessage,!a){e.next=15;break}return f.fire({title:"admin\u767b\u5165\u6210\u529f!"}),c(),e.abrupt("return");case 15:h.fire({title:"".concat(r.message)});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j&&d("/admin")}),[d,j]),Object(o.jsx)("div",{className:"formLayout login-form",children:Object(o.jsxs)("form",{onSubmit:n(v),children:[Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"username",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",maxLength:"50",errors:r,register:t,validationSchema:{required:"\u8acb\u8f38\u5165\u5e33\u865f",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"}},watch:s})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:r,register:t,validationSchema:{required:"\u8acb\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:s})}),Object(o.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u767b\u5165"}),Object(o.jsx)("div",{className:"button-group-row login-button-group",children:Object(o.jsx)(O.a,{to:"/login",className:"button-link",children:"\u524d\u53f0\u767b\u5165"})})]})})},se=function(){var e=K().isAuthentic,t=Object(i.o)();return Object(a.useEffect)((function(){e&&t("/admin")}),[t,e]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(d,{children:Object(o.jsxs)("div",{className:"login-container col-4 flex_col_cc",children:[Object(o.jsx)("div",{className:"page-logo",children:Object(o.jsx)("img",{src:j,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(o.jsx)("h3",{className:"page-title",children:"\u5f8c\u53f0\u767b\u5165"}),Object(o.jsx)(re,{})]})})})},ie=function(e){var t=e.role,n=e.pageIndex,a=e.memberId,c=K(),r=c.logout,s=c.setModalTweetOpen;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("nav",{className:"left-nav col-2",children:Object(o.jsxs)("div",{className:"left-nav-link",children:[Object(o.jsxs)("div",{className:"left-nav-link-items",children:[Object(o.jsx)(O.a,{to:"admin"===t?"/admin":"/main",className:"link-logo",children:Object(o.jsx)("img",{src:j,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(o.jsxs)(O.a,{to:"admin"===t?"/admin":"/main",className:"nav-link ",children:[Object(o.jsx)("span",{className:["nav-icon icon-home",0===n?"active":""].join(" ")}),Object(o.jsx)("p",{children:"admin"===t?"\u63a8\u6587\u6e05\u55ae":"\u9996\u9801"})]}),Object(o.jsxs)(O.a,{to:"admin"===t?"/admin/users":"/user/".concat(a),children:[Object(o.jsx)("span",{className:["nav-icon icon-user",1===n?"active":""].join(" ")}),Object(o.jsx)("p",{children:"admin"===t?"\u4f7f\u7528\u8005\u5217\u8868":"\u500b\u4eba\u8cc7\u6599"})]}),"admin"!==t&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(O.a,{to:"/setting",children:[Object(o.jsx)("span",{className:["nav-icon icon-setting",2===n?"active":""].join(" ")}),Object(o.jsx)("p",{children:"\u8a2d\u5b9a"})]}),Object(o.jsxs)("button",{className:"button-filled button-lg button-tweet",type:"submit",onClick:function(){return s(!0)},children:[Object(o.jsx)("span",{className:"button-tweet-view",children:"\u63a8\u6587"}),Object(o.jsx)("span",{className:"button-tweet-view-m"})]})]})]}),Object(o.jsx)("div",{className:"left-nav-link-logout",children:Object(o.jsxs)(O.a,{to:"/login",onClick:function(){r()},children:[Object(o.jsx)("span",{className:"nav-icon icon-logout"}),Object(o.jsx)("p",{children:"\u767b\u51fa"})]})})]})})})},oe=function(e){var t=e.children,n=e.role,a=e.pageIndex,c=e.memberId;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("main",{className:"container_sec",children:[Object(o.jsx)(ie,{role:n,pageIndex:a,memberId:c}),t]})})},ue=n.p+"static/media/back.de35b2eb.svg",le=function(e){var t=e.pageTitle;return Object(o.jsx)("div",{className:"header-container header-main",children:Object(o.jsx)("h5",{children:t})})},je=function(e){var t=e.userAccountName,n=e.userTweetsLength,a=Object(i.o)();return Object(o.jsxs)("div",{className:"header-container",children:[Object(o.jsx)("img",{src:ue,alt:"Back to pre page",className:"icon-back cursor-point",onClick:function(){a(-1)}}),Object(o.jsxs)("div",{className:"header-user-info",children:[Object(o.jsx)("h5",{children:t}),Object(o.jsxs)("p",{children:[n," \u63a8\u6587"]})]})]})},de="https://calm-eyrie-50498.herokuapp.com/api",be=g.a.create({baseUrl:de});be.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var pe=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(de,"/admin/users"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Admin Users failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("".concat(de,"/admin/tweets"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("[Get Tweets failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.delete("".concat(de,"/admin/tweets/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Cancel Follow failed:]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){var t=e.avatar,n=e.onClick,a=e.userId;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"avatar",onClick:function(e){null===n||void 0===n||n({userId:a}),e.stopPropagation()},children:t&&Object(o.jsx)("img",{src:t,alt:"userAvatar",className:"user-avatar"})})})},he=n(59),xe=n.n(he),ve=n(199),ge=n.n(ve);n(383);function we(e){xe.a.extend(ge.a),xe.a.locale("zh-tw");return function(e){return function(e){return xe()(e).subtract(0,"minute")}(e).fromNow()}(e)}var ke=function(e){var t=e.name,n=e.account,a=e.time;return Object(o.jsx)("div",{className:"tweet-username-3",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"user-name",children:t}),Object(o.jsxs)("span",{className:"user-account",children:["@",n]}),Object(o.jsxs)("span",{className:"user-time",children:[" \xb7",we(a)]})]})})},Ne=n.p+"static/media/close.8d623dc5.svg",Ie=function(e){var t,n,a=e.id,c=e.description,r=e.UserId,s=e.User,i=e.createdAt,u=e.onDelete;e.tweetId,e.setTweetId;return Object(o.jsxs)("div",{className:"tweet-card-basic tweet-card-admin",children:[Object(o.jsx)(fe,{avatar:s.avatar,userId:r}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsxs)("div",{className:"icon-inner-wrap",children:[Object(o.jsx)(ke,{name:s.name,account:s.account,time:i}),Object(o.jsx)("img",{className:"icon-delete",src:Ne,alt:"cross icon",onClick:function(){null===u||void 0===u||u(a)}})]}),Object(o.jsx)("div",{className:"description-wrap",children:Object(o.jsx)("p",{className:"tweet-card-basic-description",children:(t=c,n=51,t.length>n?t.slice(0,n-1)+"...":t)})})]})]})},ye=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(h.a)(r,2),u=s[0],l=s[1],j=Object(i.o)(),d=K().isAuthentic,m=Object(a.useState)(!1),O=Object(h.a)(m,2),x=(O[0],O[1]),v=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me();case 3:return t=e.sent,c(t),e.abrupt("return");case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),x(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u662f\u5426\u78ba\u8a8d\u8981\u522a\u9664\uff1f",1!=window.confirm("\u662f\u5426\u78ba\u8a8d\u8981\u522a\u9664\uff1f")){e.next=15;break}if(e.prev=2,!t){e.next=8;break}return e.next=6,Oe(t);case 6:return v(),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=16;break;case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),Object(a.useEffect)((function(){d&&j("/admin")}),[j,d]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(oe,{role:"admin",pageIndex:0,children:Object(o.jsx)("div",{className:"section-outer-l col-10",children:Object(o.jsxs)("div",{className:"section-main-l",children:[Object(o.jsx)(le,{pageTitle:"\u63a8\u6587\u6e05\u55ae"}),n.map((function(e){return Object(o.jsx)(Ie,Object(f.a)(Object(f.a)({},e),{},{onDelete:g,setTweetId:l,tweetId:u}),e.id)}))]})})})})},Ce=function(){var e=Object(i.o)(),t=K(),n=t.isAuthentic,c=t.member,r=Object(a.useState)({id:"null",account:"",email:"",name:""}),s=Object(h.a)(r,2),u=s[0],l=s[1],j=Object(m.a)(),d=j.register,O=j.handleSubmit,f=j.reset,v=j.formState.errors,g=j.watch,w=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat(Y,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),k=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat($,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",height:"96px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),N=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V({memberId:c.id,account:t.account,name:t.name,email:t.email,password:t.password,checkPassword:t.cpassword});case 2:200===(n=e.sent).status?(f(),l({id:n.data.id,account:n.data.account,email:n.data.email,name:n.data.name}),w.fire({title:"\u6210\u529f\u4fee\u6539"})):(k.fire({title:"".concat(n.message)}),l(u));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(c.id);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]),Object(a.useEffect)((function(){n||e("/login")}),[e,n,c]),Object(o.jsx)("div",{className:"formLayout setting-form",children:Object(o.jsxs)("form",{onSubmit:O(N),children:[Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"account",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",defaultValue:u.account,errors:v,register:d,validationSchema:{required:"\u8acb\u8f38\u5165\u5e33\u865f",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"},maxLength:{value:50,message:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}},watch:g})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"username",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",defaultValue:u.name,errors:v,register:d,validationSchema:{required:"\u8acb\u8f38\u5165\u540d\u7a31",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"},maxLength:{value:50,message:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}},watch:g})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"email",label:"Email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",defaultValue:u.email,errors:v,register:d,validationSchema:{required:"\u8acb\u8f38\u5165Email",pattern:{value:/\S+@\S+\.\S+/,message:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684Email"}},watch:g})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:v,register:d,validationSchema:{required:"\u8acb\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:g})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"cpassword",label:"\u5bc6\u78bc\u518d\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",errors:v,register:d,validationSchema:{required:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:g})}),Object(o.jsx)("div",{className:"button-group-row login-button-group",children:Object(o.jsx)("button",{className:"button-bg button-m active",type:"submit",children:"\u5132\u5b58"})})]})})},Te=function(e){var t=e.children;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"modal-outer-container modal-transparent-bk",children:Object(o.jsx)("div",{className:"modal-flex-box",children:Object(o.jsx)("div",{className:"modal-container",children:t})})})})},Se=function(e){var t=e.setModalTweetOpen,n=e.setModalReplyOpen;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"modal-header",children:Object(o.jsx)("img",{src:Ne,alt:"icon of close button",className:"icon-close",onClick:function(){null===t||void 0===t||t(!1),null===n||void 0===n||n(!1)}})})})},Ue=function(e){var t=e.setModalProOpen;e.onSubmit;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"modal-header modal-header-with-btn",children:[Object(o.jsx)("img",{src:Ne,alt:"icon of close button",className:"icon-close",onClick:function(){return t(!1)}}),Object(o.jsx)("h5",{children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"}),Object(o.jsx)("button",{className:"button-md button-m active",form:"hook-form",type:"submit",children:"\u5132\u5b58"})]})})},Le=function(e){var t,n=e.avatar,a=e.onAddTweet,c=e.onModalAddTweet,r=Object(m.a)(),s=r.register,i=r.handleSubmit,u=r.reset,l=r.formState.errors;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"formLayout tweet-card-form",children:Object(o.jsxs)("form",{onSubmit:i((function(e){a&&a(e),c&&c(e),u()})),children:[Object(o.jsxs)("div",{className:"form-group-inner-wrapper",children:[Object(o.jsx)(fe,{avatar:n}),Object(o.jsx)("div",{className:"textarea-group-container",children:Object(o.jsx)("div",{className:"grow-wrap",children:Object(o.jsx)("textarea",Object(f.a)(Object(f.a)({type:"textarea",id:"description",name:"description"},s("description",{required:!0,maxLength:140})),{},{placeholder:"\u6709\u4ec0\u9ebc\u65b0\u9bae\u4e8b\uff1f",className:"tweet-text-area ".concat(l.description?"error":"")}))})})]}),Object(o.jsxs)("div",{children:[l.description&&"required"===l.description.type&&Object(o.jsx)("span",{className:"error",children:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"}),"maxLength"===(null===l||void 0===l||null===(t=l.description)||void 0===t?void 0:t.type)&&Object(o.jsx)("span",{className:"error",children:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}),Object(o.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u63a8\u6587"})]})]})})})},_e="https://calm-eyrie-50498.herokuapp.com/api",Fe=g.a.create({baseUrl:_e});Fe.interceptors.request.use((function(e){var t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){console.error(e)}));var Ae=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.get("".concat(_e,"/users/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,c,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id,a=t.img,e.next=4,Fe.put("".concat(_e,"/users/").concat(n),a);case 4:return c=e.sent,e.abrupt("return",Object(f.a)({success:!0},c));case 8:return e.prev=8,e.t0=e.catch(0),r=e.t0.response.data,console.error("[getUser Info failed]",e.t0),e.abrupt("return",{success:!1,errorMessage:r});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(e){e.handleAddTweets;var t=Object(a.useState)({}),n=Object(h.a)(t,2),c=n[0],r=n[1],s=K(),i=s.member,u=s.modalTweetOpen,l=s.setModalTweetOpen,j=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M({UserId:i.id,description:t.description});case 3:e.sent&&l(!u),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("[createData failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(i.id);case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(Te,{children:[Object(o.jsx)(Se,{setModalTweetOpen:l}),Object(o.jsx)("div",{className:"modal-content modal-tweet-content",children:Object(o.jsx)("div",{className:"tweet-form-wrapper",children:Object(o.jsx)(Le,{avatar:c.avatar,onModalAddTweet:j})})})]})})},Ee=function(e){var t=e.setModalTweetOpen,n=K(),c=n.isAuthentic,r=n.member,s=n.modalTweetOpen,u=Object(i.o)();return Object(a.useEffect)((function(){c||u("/login")}),[u,c]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",setModalTweetOpen:t,pageIndex:2,memberId:null===r||void 0===r?void 0:r.id,children:[s&&Object(o.jsx)(Pe,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(le,{pageTitle:"\u5e33\u6236\u8a2d\u5b9a"}),Object(o.jsx)(Ce,{})]})})]})})},qe=n(23),Be=function(e){var t=e.name,n=e.account;return Object(o.jsxs)("div",{className:"tweet-username-2",children:[Object(o.jsx)("span",{className:"user-name",children:t}),Object(o.jsxs)("span",{className:"user-account",children:["@",n]})]})},Re=n(33),De=function(e){var t=Object.assign({},(Object(qe.a)(e),e)),n=t.id,a=K().setUserIsFollowing,c=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,c=t.isfollowing,e.prev=1,c){e.next=7;break}return e.next=5,q(n);case 5:e.next=9;break;case 7:return e.next=9,B(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:a((function(e){return!e}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"follow-card",children:[Object(o.jsxs)("div",{className:"follow-card-info",children:[Object(o.jsx)(fe,{avatar:t.avatar,userId:n,onClick:function(e){var n,a=e.userId;null===(n=t.onClick)||void 0===n||n.call(t,{userId:a})}}),Object(o.jsx)(Be,{name:t.name,account:t.account})]}),Object(o.jsx)("div",{className:"follow-card-button",children:Object(o.jsx)("button",{className:"".concat(Object(Re.a)("",{active:t.isFollowing})," button-md button-m"),type:"submit",onClick:function(e){c({userId:t.id,isfollowing:t.isFollowing}),e.stopPropagation()},children:t.isFollowing?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8"})})]})},Ge=function(e){var t=e.setPathId,n=Object(a.useState)([]),c=Object(h.a)(n,2),r=c[0],s=c[1],u=K(),l=u.member,j=u.userIsFollowing,d=Object(i.o)(),m=function(e){var n=e.userId;n===l.id?d("/user/".concat(n)):void 0!==n&&d("/other/".concat(n)),t(n)};return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U();case 3:t=e.sent,s(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"follow-list-container",children:[Object(o.jsx)("div",{className:"title-secondary",children:Object(o.jsx)("h4",{children:"\u63a8\u85a6\u8ddf\u96a8"})}),r.map((function(e){return Object(o.jsx)(De,Object(f.a)(Object(f.a)({},e),{},{onClick:m}),e.id)}))]})})},Ve=function(e){var t=Object.assign({},(Object(qe.a)(e),e));return Object(o.jsxs)("div",{className:"tweet-card-basic",children:[Object(o.jsx)(fe,{avatar:t.User.avatar}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(o.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986",Object(o.jsxs)("span",{className:"reply-user-account",children:["@",t.Tweet.User.name]})]}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.Tweet.description})]})]})},ze=function(e){var t=e.pathId,n=(e.onClick,Object(a.useState)([])),c=Object(h.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:n=e.sent,s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(o.jsx)("div",{className:"TweetLists",children:r.map((function(e){return Object(o.jsx)(Ve,Object(f.a)({},e),e.id)}))})},Je=n.p+"static/media/like-filled.a23cc5e1.svg",Ze=n.p+"static/media/reply.1d9be076.svg",He=n.p+"static/media/like.81043da8.svg",Ke=function(e){var t=e.likesCount,n=e.repliesCount,a=e.isLike,c=e.id,r=e.onToggleLike,s=e.UserId,i=e.tabIndex,u=K(),l=u.setModalReplyOpen,j=u.setTweetId;return Object(o.jsxs)("div",{className:"tweet-card-icon-count",children:[Object(o.jsxs)("div",{className:"tweet-card-reply-count",onClick:function(e){j(c),l(!0),e.stopPropagation()},children:[Object(o.jsx)("img",{src:Ze,alt:"reply",className:"reply-icon"}),Object(o.jsx)("span",{className:"tweet-count",children:n})]}),Object(o.jsxs)("div",{className:"tweet-card-like-count",onClick:function(e){null===r||void 0===r||r({id:c,UserId:s,isLike:a,tabIndex:i}),e.stopPropagation()},children:[Object(o.jsx)("img",{src:a?He:Je,alt:"like",className:"".concat(Object(Re.a)("",{active:a})," like-icon")}),Object(o.jsx)("span",{className:"tweet-count",children:t})]})]})},Qe=function(e){var t=Object.assign({},(Object(qe.a)(e),e)),n=Object(i.o)(),a=t.id;return Object(o.jsxs)("div",{className:"tweet-card-basic",onClick:function(e){!function(e){e&&n("/main/tweet/".concat(e))}(a),e.stopPropagation()},children:[Object(o.jsx)(fe,{avatar:t.User.avatar,userId:t.UserId,onClick:function(e){var n,a=e.userId;null===(n=t.onClick)||void 0===n||n.call(t,{userId:a})}}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(o.jsx)(Ke,{likesCount:t.likesCount,repliesCount:t.repliesCount,isLike:t.isLike,id:a,onToggleLike:function(e){var n,a=e.id,c=e.isLike;null===(n=t.onToggleLike)||void 0===n||n.call(t,{id:a,isLike:c})}})]})]})},We=function(e){var t=e.tweets,n=e.onClick,a=e.onToggleLike;return Object(o.jsx)("div",{className:"TweetLists",children:t.map((function(e){return Object(o.jsx)(Qe,Object(f.a)(Object(f.a)({},e),{},{onClick:function(e){var t=e.tweetId,a=e.userId;null===n||void 0===n||n({tweetId:t,userId:a})},onToggleLike:function(e){var t=e.id,n=e.isLike;null===a||void 0===a||a({id:t,isLike:n})}}),e.id)}))})},Xe=function(e){var t=Object.assign({},(Object(qe.a)(e),e)),n=Object(i.o)();return Object(o.jsxs)("div",{className:"tweet-card-basic",onClick:function(e){var a;(a=t.TweetId)&&n("/main/tweet/".concat(a)),e.stopPropagation()},children:[Object(o.jsx)(fe,{avatar:t.Tweet.User.avatar,userId:t.UserId,onClick:function(e){var n,a=e.userId;null===(n=t.onClick)||void 0===n||n.call(t,{userId:a})}}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsx)(ke,{name:t.Tweet.User.name,account:t.Tweet.User.account,time:t.Tweet.createdAt}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.Tweet.description}),Object(o.jsx)(Ke,{likesCount:t.likesCount,repliesCount:t.repliesCount,isLike:!0,id:t.TweetId,tabIndex:t.tabIndex,UserId:t.UserId,onToggleLike:function(e){var n,a=e.id,c=e.isLike,r=e.UserId,s=e.tabIndex;null===(n=t.onToggleLike)||void 0===n||n.call(t,{id:a,isLike:c,UserId:r,tabIndex:s})}})]})]})},Ye=function(e){var t=e.pathId,n=e.onClick,c=e.tabIndex,r=Object(a.useState)([]),s=Object(h.a)(r,2),i=s[0],u=s[1],l=K(),j=l.like,d=l.handleChangeLikeMode;return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:n=e.sent,u(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[j,t]),Object(o.jsx)("div",{className:"TweetLists",children:i.map((function(e){return Object(o.jsx)(Xe,Object(f.a)(Object(f.a)({},e),{},{tabIndex:c,onClick:function(e){var t=e.tweetId,a=e.userId;null===n||void 0===n||n({tweetId:t,userId:a})},onToggleLike:d}),e.id)}))})},$e=function(e){var t=e.bkUrl;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"profile-bk-clip",children:t&&Object(o.jsx)("img",{src:t,alt:"mountain pic",className:"profile-bk-image"})})})},et=function(e){var t=e.name,n=e.account,a=e.introduction,c=e.avatar,r=e.banner,s=e.followersCount,u=e.followingsCount,l=K().setModalProOpen,j=Number(Object(i.q)().id);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"profile-card",children:[Object(o.jsx)($e,{bkUrl:r}),Object(o.jsx)(fe,{avatar:c}),Object(o.jsx)("div",{className:"profile-btn-group",children:Object(o.jsx)("button",{className:"button-md button-m",onClick:function(){return l(!0)},children:"\u7de8\u8f2f\u500b\u4eba\u8cc7\u6599"})}),Object(o.jsxs)("div",{className:"profile-info",children:[Object(o.jsx)("h5",{className:"user-name",children:t}),Object(o.jsx)("p",{className:"user-account",children:n&&"@".concat(n)}),Object(o.jsx)("p",{className:"user-desc",children:a})]}),Object(o.jsxs)("div",{className:"user-follow-info",children:[Object(o.jsx)(O.a,{to:"/user/followers/".concat(j),state:{tabIndex:"1"},children:Object(o.jsxs)("p",{children:[u," \u500b ",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]})}),Object(o.jsx)(O.a,{to:"/user/followers/".concat(j),state:{tabIndex:"0"},children:Object(o.jsxs)("p",{children:[s," \u4f4d",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})})]})]})})},tt=function(e){var t,n=e.avatar,a=e.tweetInfo,c=K(),r=c.member,s=c.setModalReplyOpen,u=Object(i.o)(),l=Object(m.a)(),j=l.register,d=l.handleSubmit,O=l.reset,h=l.formState.errors,x=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({UserId:r.id,TweetId:a.id,comment:t.description});case 2:e.sent,s(!1),u("/main/tweet/".concat(a.id)),O();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"formLayout tweet-card-form",children:Object(o.jsxs)("form",{onSubmit:d(x),children:[Object(o.jsxs)("div",{className:"form-group-inner-wrapper",children:[Object(o.jsx)(fe,{avatar:n}),Object(o.jsx)("div",{className:"textarea-group-container",children:Object(o.jsx)("div",{className:"grow-wrap",children:Object(o.jsx)("textarea",Object(f.a)(Object(f.a)({type:"textarea",id:"description",name:"description"},j("description",{required:!0,maxLength:140})),{},{placeholder:"\u63a8\u4f60\u7684\u56de\u8986\uff1f",className:"tweet-text-area ".concat(h.description?"error":"")}))})})]}),Object(o.jsxs)("div",{children:[h.description&&"required"===h.description.type&&Object(o.jsx)("span",{className:"error",children:"\u5167\u5bb9\u4e0d\u53ef\u7a7a\u767d"}),"maxLength"===(null===h||void 0===h||null===(t=h.description)||void 0===t?void 0:t.type)&&Object(o.jsx)("span",{className:"error",children:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}),Object(o.jsx)("button",{className:"button-md button-m active",type:"submit",children:"\u56de\u8986"})]})]})})})},nt=function(e){var t=e.tweetInfo;return Object(o.jsxs)("div",{className:"tweet-card-basic",children:[Object(o.jsx)(fe,{avatar:t.User.avatar}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(o.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986\u7d66",Object(o.jsxs)("span",{className:"reply-user-account",children:["@",t.User.account]})]})]})]})},at=function(){var e=Object(a.useState)({id:"",UserId:"",description:"",createdAt:"",User:{},Likes:{},replies:{},updatedAt:""}),t=Object(h.a)(e,2),n=t[0],c=t[1],r=K(),s=r.member,i=r.setModalReplyOpen,u=r.tweetId,l=Object(a.useState)({}),j=Object(h.a)(l,2),d=j[0],m=j[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(u);case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(s.id);case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(Te,{children:[Object(o.jsx)(Se,{setModalReplyOpen:i}),Object(o.jsxs)("div",{className:"modal-content modal-reply-content",children:[Object(o.jsx)("div",{className:"tweet-reply-wrapper",children:Object(o.jsx)(nt,{tweetInfo:n})}),Object(o.jsx)("div",{className:"tweet-form-wrapper",children:Object(o.jsx)(tt,{avatar:d.avatar,tweetInfo:n})})]})]})})},ct=n(13),rt=n.p+"static/media/addphoto.2e797657.svg",st="https://i.imgur.com/ZFz8ZEI.png",it=new FormData,ot=function(){var e,t=K(),n=t.isAuthentic,c=t.member,r=t.setModalProOpen,s=Object(a.useState)({name:"",introduction:"",avatar:"",banner:""}),u=Object(h.a)(s,2),l=u[0],j=u[1],d=Object(i.o)(),O=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat(Y,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),v=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat($,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",height:"96px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),g=Object(a.useRef)(null),w=Object(a.useRef)(null),k=Object(a.useRef)(null),N=Object(a.useState)(""),I=Object(h.a)(N,2),y=I[0],C=I[1],T=Object(a.useState)(""),S=Object(h.a)(T,2),U=S[0],L=S[1],_=Object(a.useState)(!1),F=Object(h.a)(_,2),A=F[0],M=F[1],P=Object(m.a)({defaultValues:{name:l.name,introduction:l.introduction,avatar:l.avatar,banner:l.banner}}),E=P.register,q=P.handleSubmit,B=P.reset,R=P.formState.errors,D=P.watch,G=P.setValue,V=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(c.id);case 3:(t=e.sent)&&(j(t),L(t.banner),C(t.avatar)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,it.get("name")&&it.delete("name"),it.append("name",t.name),it.get("introduction")&&it.delete("introduction"),it.append("introduction",t.introduction),e.next=7,Me({id:c.id,img:it});case 7:200===e.sent.status?(r(!1),O.fire({title:"\u4e0a\u50b3\u7167\u7247\u6210\u529f!"})):(r(!0),v.fire({title:"\u5716\u6a94\u4e0d\u7b26\u5408,\u8acb\u4f7f\u7528jpg/png/gif"})),n=Object(ct.a)(it.keys());try{for(n.s();!(a=n.n()).done;)s=a.value,it.delete(s)}catch(i){n.e(i)}finally{n.f()}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),v.fire({title:"".concat(e.t0)});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=w.current.files[0],n=k.current.files[0],a="input-file-avatar";"input-file-bk"===e.target.className?(a="input-file-bk",it.get("banner")&&it.delete("banner"),it.append("banner",n)):(it.get("avatar")&&it.delete("avatar"),it.append("avatar",t));var c=Object(h.a)(e.target.files,1)[0];if(c){var r=new FileReader;g.current.file=c,r.onload=function(e){"input-file-avatar"===a?C(e.target.result):"input-file-bk"===a&&(L(e.target.result),M(!0))},r.readAsDataURL(c)}};return Object(a.useEffect)((function(){V()}),[]),Object(a.useEffect)((function(){B(Object(f.a)({},l))}),[l,B]),Object(a.useEffect)((function(){n||d("/login")}),[d,n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(Te,{children:[Object(o.jsx)(Ue,{setModalProOpen:r,onSubmit:z}),Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"profile-bk-wrapper",children:[Object(o.jsx)($e,{bkUrl:U}),Object(o.jsx)("img",{alt:"bk-camera",src:rt,className:"icon-camera",ref:g,onClick:function(){return k.current.click()}}),A&&Object(o.jsx)("img",{src:Ne,alt:"icon of close button",className:"icon-close",onClick:function(e){L(l.banner?l.banner:st),G("banner",l.banner?l.banner:st),M(!1)}}),Object(o.jsx)("input",{type:"file",accept:"image/*",onChange:J,ref:k,className:"input-file-bk",name:"banner",id:"banner"})]}),Object(o.jsxs)("div",{className:"avatar-edit-wrapper",children:[Object(o.jsx)(fe,{avatar:y}),Object(o.jsx)("img",{alt:"bk-camera",src:rt,className:"icon-camera",ref:g,onClick:function(){return w.current.click()}}),Object(o.jsx)("input",{type:"file",accept:"image/*",onChange:J,ref:w,className:"input-file-avatar",name:"avatar",id:"avatar"})]}),Object(o.jsxs)("form",{className:"modal-info-form",id:"hook-form",onSubmit:q(z),children:[Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"name",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",errors:R,register:E,validationSchema:{required:"\u8acb\u8f38\u5165\u540d\u7a31",minLength:{value:3,message:"\u8acb\u8f38\u5165\u81f3\u5c113\u5b57"},maxLength:{value:50,message:"\u6700\u591a\u4e0d\u53ef\u8f38\u5165\u8d85\u904e50\u5b57"}},watch:D,limitLabel:!0})}),Object(o.jsxs)("div",{className:"textarea-group-container",children:[Object(o.jsxs)("div",{className:"textarea-group grow-wrap",children:[Object(o.jsx)("label",{children:"\u81ea\u6211\u4ecb\u7d39"}),Object(o.jsx)("textarea",Object(f.a)(Object(f.a)({type:"textarea",id:"introduction",name:"introduction"},E("introduction",{required:!0,maxLength:160})),{},{placeholder:"\u8acb\u8f38\u5165\u4f60\u7684\u81ea\u6211\u4ecb\u7d39",className:"desc-text-area ".concat(R.introduction?"error":"")}))]}),Object(o.jsxs)("div",{className:"error-message-group",children:[R.introduction&&"required"===R.introduction.type&&Object(o.jsx)("span",{className:"error",children:"\u8acb\u8f38\u5165\u4f60\u7684\u81ea\u6211\u4ecb\u7d39"}),"maxLength"===(null===R||void 0===R||null===(e=R.introduction)||void 0===e?void 0:e.type)&&Object(o.jsx)("span",{className:"error",children:"\u6700\u591a\u4e0d\u53ef\u8f38\u5165\u8d85\u904e160\u5b57"}),Object(o.jsxs)("span",{className:"limit-num",children:[D("introduction")?D("introduction").length:"0","/160"]})]})]})]})]})]})})},ut=function(){var e=Object(a.useState)("0"),t=Object(h.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(Number(Object(i.q)().id)),s=Object(h.a)(r,2),u=s[0],l=s[1],j=Object(i.o)(),d=K(),m=d.isAuthentic,O=d.member,x=d.modalReplyOpen,v=d.modalTweetOpen,g=d.like,w=d.handleChangeLikeMode,k=d.modalProOpen,N=d.userIsFollowing,I=Object(a.useState)({userAccountName:""}),y=Object(h.a)(I,2),C=y[0],T=y[1],S=Object(a.useState)([]),U=Object(h.a)(S,2),L=U[0],F=U[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(u);case 3:t=e.sent,T(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(u);case 3:t=e.sent,F(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t(),e()}),[u,g,v,k,N]),Object(a.useEffect)((function(){m||j("/login")}),[j,m,O]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",pageIndex:1,memberId:O.id,children:[v&&Object(o.jsx)(Pe,{}),k&&Object(o.jsx)(ot,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(je,{userAccountName:C.name,userTweetsLength:L.length}),Object(o.jsx)(et,Object(f.a)({},C)),Object(o.jsx)(ne,{tabIndex:n,setTabIndex:c}),x&&Object(o.jsx)(at,{}),function(e){switch(e){case"1":return Object(o.jsx)(ze,{pathId:u});case"2":return Object(o.jsx)(Ye,{pathId:u});default:return Object(o.jsx)(We,{tweets:L,onToggleLike:w})}}(n)]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:l})})]})})},lt=n.p+"static/media/message.4c9af58b.svg",jt=n.p+"static/media/notice.60c0a6cc.svg",dt=function(e){var t=e.name,n=e.account,a=e.introduction,c=e.avatar,r=e.banner,s=e.followersCount,u=e.followingsCount,l=(e.setModalProOpen,e.onClick),j=e.isFollowing,d=Number(Object(i.q)().id);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"profile-card",children:[Object(o.jsx)($e,{bkUrl:r}),Object(o.jsx)(fe,{avatar:c}),Object(o.jsxs)("div",{className:"profile-btn-group",children:[Object(o.jsx)("img",{src:lt,alt:"icon of message",className:"icon-round icon-message icon-round cursor-point"}),Object(o.jsx)("img",{src:jt,alt:"icon of Notice",className:"icon-round icon-notice icon-round cursor-point"}),Object(o.jsx)("button",{className:"".concat(Object(Re.a)("",{active:j})," button-md button-m"),onClick:function(){return null===l||void 0===l?void 0:l(d,j)},children:j?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8"})]}),Object(o.jsxs)("div",{className:"profile-info",children:[Object(o.jsx)("h5",{className:"user-name",children:t}),Object(o.jsxs)("p",{className:"user-account",children:["@",n]}),Object(o.jsx)("p",{className:"user-desc",children:a})]}),Object(o.jsxs)("div",{className:"user-follow-info",children:[Object(o.jsx)(O.a,{to:"/other/followers/".concat(d),state:{tabIndex:"1"},children:Object(o.jsxs)("p",{children:[u," \u500b ",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]})}),Object(o.jsx)(O.a,{to:"/other/followers/".concat(d),state:{tabIndex:"0"},children:Object(o.jsxs)("p",{children:[s," \u4f4d",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})})]})]})})},bt=function(e){var t=e.setModalProOpen,n=e.setModalTweetOpen,c=Object(a.useState)("0"),r=Object(h.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(Number(Object(i.q)().id)),j=Object(h.a)(l,2),d=j[0],m=j[1],O=Object(i.o)(),x=(Object(i.m)().state,K()),v=x.isAuthentic,g=x.member,w=x.modalReplyOpen,k=x.modalTweetOpen,N=x.handleChangeLikeMode,I=x.like,y=x.setUserIsFollowing,C=x.userIsFollowing,T=Object(a.useState)({}),S=Object(h.a)(T,2),U=S[0],L=S[1],F=Object(a.useState)([]),A=Object(h.a)(F,2),M=A[0],P=A[1],E=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t,n){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=6;break}return e.next=4,q(t);case 4:e.next=8;break;case 6:return e.next=8,B(t);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:y((function(e){return!e}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(d);case 3:t=e.sent,L(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(d);case 3:t=e.sent,P(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t(),e()}),[d,I,k,C]),Object(a.useEffect)((function(){v||O("/login")}),[O,v]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",setModalTweetOpen:n,setModalProOpen:t,memberId:g.id,children:[k&&Object(o.jsx)(Pe,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(je,{userAccountName:U.name,userTweetsLength:M.length}),Object(o.jsx)(dt,Object(f.a)(Object(f.a)({},U),{},{setModalProOpen:t,onClick:E})),Object(o.jsx)(ne,{tabIndex:s,setTabIndex:u}),w&&Object(o.jsx)(at,{}),function(e){switch(e){case"1":return Object(o.jsx)(ze,{pathId:d});case"2":return Object(o.jsx)(Ye,{pathId:d,tabIndex:2});default:return Object(o.jsx)(We,{tweets:M,onToggleLike:N})}}(s)]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:m})})]})})},pt=function(e){var t=Object.assign({},(Object(qe.a)(e),e)),n=Object(i.o)(),a=K().member;return Object(o.jsx)("div",{className:"follow-ship-card",children:Object(o.jsxs)("div",{className:"tweet-card-basic",children:[Object(o.jsx)(fe,{avatar:t.avatar,userId:t.id,onClick:function(e){var t=e.userId;t===a.id?n("/user/".concat(t)):void 0!==t&&n("/other/".concat(t))}}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsxs)("div",{className:"tweet-username-2",children:[Object(o.jsx)("span",{className:"user-name",children:t.name}),Object(o.jsx)("span",{className:"follow-card-button",onClick:function(e){var n;null===(n=t.onClick)||void 0===n||n.call(t,{userId:t.id,isfollowing:t.isfollowing}),e.stopPropagation()},children:a.id===t.id?Object(o.jsx)(o.Fragment,{}):Object(o.jsx)("button",{className:"".concat(Object(Re.a)("",{active:t.isfollowing})," button-md button-m"),type:"submit",children:t.isfollowing?"\u6b63\u5728\u8ddf\u96a8":"\u8ddf\u96a8"})})]}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.introduction})]})]})})},mt=function(e){var t=e.tabIndex,n=e.pathId,c=Object(a.useState)([]),r=Object(h.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)([]),j=Object(h.a)(l,2),d=j[0],m=j[1],O=K(),x=O.setUserIsFollowing,v=O.userIsFollowing,g=Object(i.m)().pathname,w=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,a=t.isfollowing,!g.includes("other")){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,a){e.next=9;break}return e.next=7,q(n);case 7:e.next=11;break;case 9:return e.next=11,B(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:x((function(e){return!e}));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(n);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(n);case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[v]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"TweetLists",children:function(e){return"1"===e?d.map((function(e){return Object(o.jsx)(pt,Object(f.a)(Object(f.a)({},e),{},{isfollowing:!0,onClick:w}),e.id)})):s.map((function(e){return Object(o.jsx)(pt,Object(f.a)(Object(f.a)({},e),{},{onClick:w}),e.id)}))}(t)})})},Ot=function(e){var t=e.setModalProOpen,n=(e.setModalTweetOpen,Object(a.useState)("0")),c=Object(h.a)(n,2),r=c[0],s=c[1],u=Object(i.o)(),l=Object(i.m)().state,j=K(),d=j.isAuthentic,m=j.member,O=j.modalTweetOpen,f=Object(a.useState)({}),x=Object(h.a)(f,2),v=x[0],g=x[1],w=Object(a.useState)(Number(Object(i.q)().id)),k=Object(h.a)(w,2),N=k[0];k[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(m.id);case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){l&&"1"===l.tabIndex&&s("1")}),[l]),Object(a.useEffect)((function(){d||u("/login")}),[u,d]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",setModalProOpen:t,pageIndex:1,memberId:v.id,children:[O&&Object(o.jsx)(Pe,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(je,{userAccountName:v.name}),Object(o.jsx)(ae,{tabIndex:r,setTabIndex:s}),function(e){return Object(o.jsx)(mt,{tabIndex:e,pathId:N})}(r)]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:function(){}})})]})})},ft=function(e){var t=e.setModalProOpen,n=(e.setModalTweetOpen,Object(a.useState)("0")),c=Object(h.a)(n,2),r=c[0],s=c[1],u=Object(i.o)(),l=K(),j=l.isAuthentic,d=(l.member,l.modalTweetOpen),m=Object(a.useState)({}),O=Object(h.a)(m,2),f=O[0],x=O[1],v=Object(a.useState)(0),g=Object(h.a)(v,2),w=g[0],k=g[1],N=Object(a.useState)(Number(Object(i.q)().id)),I=Object(h.a)(N,2),y=I[0];I[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(y);case 3:t=e.sent,x(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){j||u("/login")}),[u,j]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",setModalProOpen:t,pageIndex:1,memberId:f.id,children:[d&&Object(o.jsx)(Pe,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(je,{userAccountName:f.name}),Object(o.jsx)(ae,{tabIndex:r,setTabIndex:s}),function(e){return"1"===e?Object(o.jsx)(mt,{tabIndex:e,setUserIsFollowing:k,userIsFollowing:w,pathId:y}):Object(o.jsx)(mt,{tabIndex:e,setFollowingFlag:k,userIsFollowing:w,pathId:y})}(r)]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:function(){},userIsFollowing:w})})]})})},ht=function(e){e.setModalTweetOpen;var t=Object(a.useState)([]),n=Object(h.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),u=Object(h.a)(s,2),l=u[0],j=u[1],d=Object(i.o)(),m=K(),O=m.isAuthentic,x=m.member,v=m.modalReplyOpen,g=m.modalTweetOpen,w=m.handleChangeLikeMode,k=m.like,N=Object(a.useState)(!1),I=Object(h.a)(N,2),y=(I[0],I[1]),C=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,r(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),y(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(Object(b.a)().mark((function e(t){var n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M({UserId:x.id,description:t.description});case 3:n=e.sent,console.log(n),C(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("[createData failed]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(x.id);case 3:t=e.sent,j(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("[getUser Info  with Async failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){C()}),[k,g]),Object(a.useEffect)((function(){O||d("/login")}),[d,O]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(oe,{role:"user",pageIndex:0,memberId:x.id,children:[g&&Object(o.jsx)(Pe,{}),v&&Object(o.jsx)(at,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m ",children:[Object(o.jsx)(le,{pageTitle:"\u9996\u9801"}),Object(o.jsx)("div",{className:"tweet-form-wrapper",children:Object(o.jsx)(Le,Object(f.a)(Object(f.a)({},l),{},{onAddTweet:T,setTweets:r,tweets:c}))}),Object(o.jsx)(We,{tweets:c,onClick:function(e){var t=e.userId;t===l.id?d("/user/".concat(t)):void 0!==t&&d("/other/".concat(t))},setIsTweetsLoaded:y,onToggleLike:w})]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:function(){}})})]})})},xt=n.p+"static/media/post.38b40641.svg",vt=function(e){var t=e.id,n=e.account,a=e.name,c=e.avatar,r=e.banner,s=e.tweetsCount,i=e.followingsCount,u=e.followersCount,l=e.likeCount,j=e.handleClickCard;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"profile-mini-card",onClick:function(){null===j||void 0===j||j(t)},children:[Object(o.jsx)($e,{bkUrl:r}),Object(o.jsx)(fe,{avatar:c,onClick:function(){null===j||void 0===j||j(t)}}),Object(o.jsxs)("div",{className:"profile-info",children:[Object(o.jsx)("h5",{className:"user-name",children:a}),Object(o.jsxs)("p",{className:"user-account",children:["@",n]})]}),Object(o.jsxs)("div",{className:"user-tweet-info",children:[Object(o.jsxs)("div",{className:"user-card-post-count",children:[Object(o.jsx)("img",{src:xt,alt:"post",className:"icon-post"}),Object(o.jsx)("span",{className:"tweet-count",children:s})]}),Object(o.jsxs)("div",{className:"user-card-like-count",children:[Object(o.jsx)("img",{src:He,alt:"like",className:"icon-like"}),Object(o.jsx)("span",{className:"tweet-count",children:l})]})]}),Object(o.jsxs)("div",{className:"user-follow-info",children:[Object(o.jsxs)("p",{children:[i," \u500b ",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u4e2d"})]}),Object(o.jsxs)("p",{children:[u," \u4f4d",Object(o.jsx)("span",{children:"\u8ddf\u96a8\u8005"})]})]})]})})},gt=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(oe,{role:"admin",pageIndex:1,children:Object(o.jsx)("div",{className:"section-outer-l col-10",children:Object(o.jsxs)("div",{className:"section-main-l",children:[Object(o.jsx)(le,{pageTitle:"\u4f7f\u7528\u8005\u5217\u8868"}),Object(o.jsx)("div",{className:"admin-user-wrapper",children:n.map((function(e){return Object(o.jsx)(vt,Object(f.a)({},e),e.id)}))})]})})})})},wt=function(e){var t=e.tweetInfo,n=e.onClick,a=e.onToggleLike,c=t.UserId;return Object(o.jsxs)("div",{className:"TweetBigCard",children:[Object(o.jsxs)("div",{className:"TweetUserInfo",children:[Object(o.jsxs)("div",{className:"TweetUserInfo-head",children:[Object(o.jsx)(fe,{avatar:t.User.avatar,onClick:function(e){var t=e.userId;null===n||void 0===n||n({userId:t})},userId:c}),Object(o.jsx)(Be,{name:t.User.name,account:t.User.account})]}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.description}),Object(o.jsx)("p",{className:"tweetDate",children:we(t.createdAt)})]}),Object(o.jsxs)("div",{className:"TweetUserInfo",children:[Object(o.jsxs)("span",{className:"TweetUserInfo-replies",children:[t.repliesCount," ",Object(o.jsx)("span",{children:"\u56de\u8986"})]}),Object(o.jsxs)("span",{className:"TweetUserInfo-likes",children:[t.likesCount," ",Object(o.jsx)("span",{children:"\u559c\u6b61\u6b21\u6578"})]})]}),Object(o.jsx)("div",{className:"TweetUserInfo",children:Object(o.jsx)(Ke,{id:t.id,isLike:t.isLike,onToggleLike:function(e){var t=e.id,n=e.isLike;null===a||void 0===a||a({id:t,isLike:n})}})})]})},kt=function(e){var t=Object.assign({},(Object(qe.a)(e),e));return Object(o.jsxs)("div",{className:"tweet-card-basic",children:[Object(o.jsx)(fe,{avatar:t.User.avatar,userId:t.UserId,onClick:function(e){var n,a=e.userId;null===(n=t.onClick)||void 0===n||n.call(t,{userId:a})}}),Object(o.jsxs)("div",{className:"tweet-card-left-info",children:[Object(o.jsx)(ke,{name:t.User.name,account:t.User.account,time:t.createdAt}),Object(o.jsxs)("p",{className:"tweet-card-basic-reply",children:["\u56de\u8986",Object(o.jsxs)("span",{className:"reply-user-account",children:["@",t.account]})]}),Object(o.jsx)("p",{className:"tweet-card-basic-description",children:t.comment})]})]})},Nt=function(e){var t=e.tweetReplies,n=e.account,a=e.onClick;return Object(o.jsx)("div",{className:"TweetLists",children:t.map((function(e){return Object(o.jsx)(kt,Object(f.a)(Object(f.a)({},e),{},{account:n,onClick:function(e){var t=e.userId;null===a||void 0===a||a({userId:t})}}),e.id)}))})},It=function(e){var t=e.setModalTweetOpen,n=Object(a.useState)({id:"",UserId:"",description:"",createdAt:"",User:{}}),c=Object(h.a)(n,2),r=c[0],s=c[1],u=Object(a.useState)([]),l=Object(h.a)(u,2),j=l[0],d=l[1],m=K(),O=(m.isAuthentic,m.member),f=m.modalReplyOpen,x=m.setTweetId,v=m.handleChangeLikeMode,g=m.like,w=m.modalTweetOpen,k=Number(Object(i.q)().id),N=Object(i.o)(),I=function(e){var t=e.userId;t===O.id?N("/user/".concat(t)):void 0!==t&&N("/other/".concat(t))};return Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(k);case 3:t=e.sent,s(t),x(k),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[k,g,w]),Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(k);case 3:t=e.sent,d(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[f]),Object(o.jsxs)(oe,{role:"user",setModalTweetOpen:t,pageIndex:0,memberId:null===O||void 0===O?void 0:O.id,children:[w&&Object(o.jsx)(Pe,{}),f&&Object(o.jsx)(at,{}),Object(o.jsx)("section",{className:"section-outer-m col-7",children:Object(o.jsxs)("div",{className:"section-main-m",children:[Object(o.jsx)(je,{userAccountName:"\u63a8\u6587"}),Object(o.jsxs)("div",{className:"TweetPage",children:[Object(o.jsx)(wt,{tweetInfo:r,onClick:I,onToggleLike:v}),Object(o.jsx)(Nt,{tweetReplies:j,account:r.User.account,onClick:I})]})]})}),Object(o.jsx)("section",{className:"section-right col-3",children:Object(o.jsx)(Ge,{setPathId:function(){}})})]})},yt=function(){var e=K(),t=e.signUp,n=e.isAuthentic,c=Object(i.o)(),r=Object(m.a)(),s=r.register,u=r.handleSubmit,l=r.reset,j=r.formState.errors,d=r.watch,f=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat(Y,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),h=X.a.mixin({toast:!0,html:'<div>\n    <img src="'.concat($,'" class="icon-alert-noti"/>\n    </div>'),showConfirmButton:!1,position:"top",width:"394px",height:"96px",timer:3e3,timerProgressBar:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),v=function(){var e=Object(p.a)(Object(b.a)().mark((function e(n){var a,r,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.password.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t({account:n.account,email:n.email,password:n.password,checkPassword:n.cpassword,name:n.username});case 4:if(a=e.sent,r=a.success,s=a.errorMessage,!r){e.next=14;break}return f.fire({title:"\u8a3b\u518a\u6210\u529f!"}),l(),c("/login"),e.abrupt("return");case 14:h.fire({title:"".concat(s.message)});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){n&&c("/main")}),[c,n]),Object(o.jsx)("div",{className:"formLayout register-form",children:Object(o.jsxs)("form",{onSubmit:u(v),children:[Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"account",label:"\u5e33\u865f",type:"text",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",errors:j,register:s,validationSchema:{required:"\u8acb\u8f38\u5165\u5e33\u865f",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"},maxLength:{value:50,message:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}},watch:d})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"username",label:"\u540d\u7a31",type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",errors:j,register:s,validationSchema:{required:"\u8acb\u8f38\u5165\u540d\u7a31",minLength:{value:3,message:"\u5e33\u865f\u8acb\u8f38\u5165\u81f3\u5c11\u4e09\u500b\u5b57"},maxLength:{value:50,message:"\u5b57\u6578\u8d85\u51fa\u4e0a\u9650\uff01"}},watch:d})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"email",label:"Email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",errors:j,register:s,validationSchema:{required:"\u8acb\u8f38\u5165Email",pattern:{value:/\S+@\S+\.\S+/,message:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684Email"}},watch:d})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"password",label:"\u5bc6\u78bc",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",errors:j,register:s,validationSchema:{required:"\u8acb\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:d})}),Object(o.jsx)("div",{className:"input-group-container",children:Object(o.jsx)(x,{name:"cpassword",label:"\u5bc6\u78bc\u518d\u78ba\u8a8d",type:"password",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",errors:j,register:s,validationSchema:{required:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",minLength:{value:8,message:"\u5bc6\u78bc\u8acb\u8f38\u5165\u81f3\u5c118\u4f4d"}},watch:d})}),Object(o.jsxs)("div",{className:"button-group-column",children:[Object(o.jsx)("button",{className:"button-filled button-lg",type:"submit",children:"\u8a3b\u518a"}),Object(o.jsx)(O.a,{to:"/login",className:"button-link",children:"\u53d6\u6d88"})]})]})})},Ct=function(){var e=K().isAuthentic,t=Object(i.o)();return Object(a.useEffect)((function(){e&&t("/main")}),[t,e]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(d,{children:Object(o.jsxs)("div",{className:"login-container col-4 flex_col_cc",children:[Object(o.jsx)("div",{className:"page-logo",children:Object(o.jsx)("img",{src:j,alt:"Alphitter Icon",className:"icon-logo cursor-point"})}),Object(o.jsx)("h3",{className:"page-title",children:"\u5efa\u7acb\u4f60\u7684\u5e33\u865f"}),Object(o.jsx)(yt,{})]})})})};var Tt=function(e){return e.router,Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Q,{children:Object(o.jsx)(u,{children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"*",element:Object(o.jsx)(te,{})}),Object(o.jsx)(i.a,{path:"/storybook",element:Object(o.jsx)(ce,{})}),Object(o.jsx)(i.a,{path:"/login",element:Object(o.jsx)(te,{})}),Object(o.jsx)(i.a,{path:"/login/admin",element:Object(o.jsx)(se,{})}),Object(o.jsx)(i.a,{path:"/admin",element:Object(o.jsx)(ye,{})}),Object(o.jsx)(i.a,{path:"/register",element:Object(o.jsx)(Ct,{})}),Object(o.jsx)(i.a,{path:"/main",element:Object(o.jsx)(ht,{})}),Object(o.jsx)(i.a,{path:"/user/:id",element:Object(o.jsx)(ut,{})}),Object(o.jsx)(i.a,{path:"/other/:id",element:Object(o.jsx)(bt,{})}),Object(o.jsx)(i.a,{path:"/user/followers/:id",element:Object(o.jsx)(Ot,{})}),Object(o.jsx)(i.a,{path:"/other/followers/:id",element:Object(o.jsx)(ft,{})}),Object(o.jsx)(i.a,{path:"/main/tweet/:id",element:Object(o.jsx)(It,{})}),Object(o.jsx)(i.a,{path:"/setting",element:Object(o.jsx)(Ee,{})}),Object(o.jsx)(i.a,{path:"/admin/users",element:Object(o.jsx)(gt,{})}),Object(o.jsx)(i.a,{path:"/main/self2",element:Object(o.jsx)(l,{})})]})})})})},St=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,385)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(Tt,{})})),St()}},[[384,1,2]]]);
//# sourceMappingURL=main.c1c2619f.chunk.js.map